<xml version="Mixly 3.0 rc0" board="Arduino AVR@Arduino Nano" shown="block"><block type="base_setup" id="6wh^NjAsb5l4.AfMIF~Z" x="-1520" y="-716"><statement name="DO"><block type="make_arduino_comment_text_1" id="}r-7~A|*ah|lwx?$zh=8"><field name="data">2轮程序</field><next><block type="serial_begin" id="?EJprI7ATN#))$O^iBzj"><field name="serial_select">Serial</field><value name="CONTENT"><shadow type="math_number" id="#d+*+EZr#}YRV,WQjF9o"><field name="NUM">9600</field></shadow></value><next><block type="variables_declare" id="=YK*csabIN$aQee^j,;:"><field name="variables_type">global_variate</field><field name="VAR">l_sensor</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="nKoyF#G:{sO7oOlVYRP."><field name="NUM">0</field></block></value><next><block type="variables_declare" id="CX](mS}^N{2=Pe*gxnY)"><field name="variables_type">global_variate</field><field name="VAR">r_sensor</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id=";g,-KQ].y}/._1x,p(+F"><field name="NUM">0</field></block></value><next><block type="make_arduino_comment_text" id="xsLKq6*6eQyvwDX+[;M;"><field name="data">模拟范围0-1024 (?)&amp;#10;此为灰度传感器阈值，&amp;#10;到达这个数后会触发转弯。</field><next><block type="arduino_const_variate" id="+V8.f@J(HjU;4O7V;R-7"><field name="const_variate_name">GRAY_SCALE_SENSOR_THRESHOLD</field><field name="const_variate_type">int</field><value name="const_variate_data"><block type="math_number" id="J|RGhA7Jsq$KHwB4jXlz"><field name="NUM">1000</field></block></value><next><block type="make_arduino_comment_text_1" id="eT8KYJz_?Rqtq`,=b?pZ"><field name="data">这是直线速度。</field><next><block type="arduino_const_variate" id="I4Krmqga)QhKgLG(!`Z["><field name="const_variate_name">SPEED_FORWARD</field><field name="const_variate_type">int</field><value name="const_variate_data"><block type="math_number" id="9bv1ILtKZ8W7FWRF7PMI"><field name="NUM">5</field></block></value><next><block type="make_arduino_comment_text_1" id=";@9_jHm{E@]ICPB!(qIf"><field name="data">这是转弯速度。</field><next><block type="arduino_const_variate" id="#5-SM7.hDUT{0bp?rj!-"><field name="const_variate_name">SPEED_ROTATE</field><field name="const_variate_type">int</field><value name="const_variate_data"><block type="math_number" id=":gYy)l;yqy(@JWJ)E$zj"><field name="NUM">3</field></block></value><next><block type="serial_print" id="*##vj=9Ojvwu$~OsuH@K"><field name="serial_select">Serial</field><field name="new_line">println</field><value name="CONTENT"><block type="text" id="K)F;!7RY,2U$twRs^GD/"><field name="TEXT">GrasCar Program Lauch!</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="make_arduino_comment_text_1" id=")^H[nr2KpXOr}Re4hrZu" x="-1523" y="-185"><field name="data">A0 -&gt; 左灰度传感器</field><next><block type="variables_set" id="+o$tyb@A:qY5~PjW+Wck"><field name="VAR">l_sensor</field><value name="VALUE"><block type="inout_analog_read" id="@H`C)$b$MTm3ITKh7xu-"><value name="PIN"><shadow type="pins_analog" id="m^i*5R2WE.UNYUny:WZ/"><field name="PIN">A0</field></shadow></value></block></value><next><block type="make_arduino_comment_text_1" id="*,GZ|tbFq8-h;XddaJP="><field name="data">A1 -&gt; 右灰度传感器</field><next><block type="variables_set" id="!n(WU@-({^T{QxOVkvaT"><field name="VAR">r_sensor</field><value name="VALUE"><block type="inout_analog_read" id="62+*F+SHC-2S(yAbL.Ua"><value name="PIN"><shadow type="pins_analog" id="{/cma_f;{A*;$!kydI#~"><field name="PIN">A1</field></shadow></value></block></value><next><block type="serial_print" id="h`#QvmRZ3Z2o0[abp?0;"><field name="serial_select">Serial</field><field name="new_line">println</field><value name="CONTENT"><block type="text_join2" id="Y-|25E:WA2*OqQQJr$u^"><mutation items="7"></mutation><value name="ADD0"><block type="text" id="IYBXW/z={JqI?T!Nedop"><field name="TEXT">Gray Scale Sensor Data: </field></block></value><value name="ADD1"><block type="text" id="4C79;k$@m)duc+^~0_pw"><field name="TEXT">[ (</field></block></value><value name="ADD2"><block type="text_join" id="Ial3IdSEiwqeuohv,ltH"><value name="A"><shadow type="text" id="#KSSJB5`k0bMxoPVDjXU"><field name="TEXT">L: </field></shadow></value><value name="B"><shadow type="text" id="?FGwWSp86UdutP5|aRBv"><field name="TEXT">Mixly</field></shadow><block type="variables_get" id="/W.Gz_|:L;?Ud1o,BX#."><field name="VAR">l_sensor</field></block></value></block></value><value name="ADD3"><block type="text" id=",8fl]99jP!ICR6}}91MO"><field name="TEXT">) </field></block></value><value name="ADD4"><block type="text" id="b~iFyInaV1rH]MmZT69M"><field name="TEXT">(</field></block></value><value name="ADD5"><block type="text_join" id="iN*jfSEwCUzXXjRs1eC2"><value name="A"><shadow type="text" id="G,Z,`_O-rEs)AV4JCa1p"><field name="TEXT">R: </field></shadow></value><value name="B"><shadow type="text" id="MBX$F+#O/~P4ARPS9+lp"><field name="TEXT">Mixly</field></shadow><block type="variables_get" id="}Bm4Gh06gkOU0r$E{?]L"><field name="VAR">r_sensor</field></block></value></block></value><value name="ADD6"><block type="text" id="Z2l3}e-oSh-1*b?87+pD"><field name="TEXT">) ]</field></block></value></block></value><next><block type="controls_if" id="bculx4)N@8C-_8Pr:@1E"><value name="IF0"><block type="logic_compare" id="xlk$nC}7paGFxc[X7],c"><field name="OP">GTE</field><value name="A"><block type="variables_get" id="3al#Av2BNnKk])}{NL}H"><field name="VAR">l_sensor</field></block></value><value name="B"><block type="arduino_const_variate_1" id="r9Xa}_yZ=7G7o||hEpKJ"><field name="const_variate_name">GRAY_SCALE_SENSOR_THRESHOLD</field></block></value></block></value><statement name="DO0"><block type="procedures_callnoreturn" id="-GM4c8$rDzms]UAXk]]P"><mutation name="turn_left"></mutation></block></statement><next><block type="controls_if" id="bu5idj85u3ifi0_7a/wd"><value name="IF0"><block type="logic_compare" id="PMXe:~pK@f|8^b|@tz+/"><field name="OP">GTE</field><value name="A"><block type="variables_get" id="=heZ0pUwjt)Zbh}yu_q="><field name="VAR">r_sensor</field></block></value><value name="B"><block type="arduino_const_variate_1" id="~k2.wj7_]BJ:y{}!j1W,"><field name="const_variate_name">GRAY_SCALE_SENSOR_THRESHOLD</field></block></value></block></value><statement name="DO0"><block type="procedures_callnoreturn" id="Wi[:J(Ay?,gu8uT}cHx]"><mutation name="turn_right"></mutation></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block><block type="text" id=";fY)9@Zht-EwzrmCAfGT" x="-1108" y="-8"><field name="TEXT">B</field></block><block type="text" id="@Wu?2jNRUxB^_]2CE^PN" x="-1160" y="-3"><field name="TEXT">A</field></block><block type="procedures_defnoreturn" id="2G]F`fOoc*7g79D:2ig." x="-951" y="19"><field name="NAME">turn_left</field></block><block type="procedures_defnoreturn" id="CedHS!--n_hQ_!6|S/Gs" x="-709" y="99"><field name="NAME">turn_right</field></block></xml><config>{"cpu":{"key":"atmega328old","label":"ATmega328P (Old Bootloader)"}}</config><code>dm9sYXRpbGUgaW50IGxfc2Vuc29yOwp2b2xhdGlsZSBpbnQgcl9zZW5zb3I7CmNvbnN0IGludCBHUkFZX1NDQUxFX1NFTlNPUl9USFJFU0hPTEQgPSAxMDAwOwpjb25zdCBpbnQgU1BFRURfRk9SV0FSRCA9IDU7CmNvbnN0IGludCBTUEVFRF9ST1RBVEUgPSAzOwoKdm9pZCB0dXJuX2xlZnQoKSB7Cn0KCnZvaWQgdHVybl9yaWdodCgpIHsKfQoKdm9pZCBzZXR1cCgpewogIFNlcmlhbC5iZWdpbig5NjAwKTsKICBsX3NlbnNvciA9IDA7CiAgcl9zZW5zb3IgPSAwOwogIC8vMui9rueoi+W6jwogIC8qCiAg5qih5ouf6IyD5Zu0MC0xMDI0ICg/KQogIOatpOS4uueBsOW6puS8oOaEn+WZqOmYiOWAvO+8jAogIOWIsOi+vui/meS4quaVsOWQjuS8muinpuWPkei9rOW8r+OAggogICovCiAgLy/ov5nmmK/nm7Tnur/pgJ/luqbjgIIKICAvL+i/meaYr+i9rOW8r+mAn+W6puOAggogIFNlcmlhbC5wcmludGxuKCJHcmFzQ2FyIFByb2dyYW0gTGF1Y2ghIik7Cn0KCnZvaWQgbG9vcCgpewogIC8vQTAgLT4g5bem54Gw5bqm5Lyg5oSf5ZmoCiAgbF9zZW5zb3IgPSBhbmFsb2dSZWFkKEEwKTsKICAvL0ExIC0+IOWPs+eBsOW6puS8oOaEn+WZqAogIHJfc2Vuc29yID0gYW5hbG9nUmVhZChBMSk7CiAgU2VyaWFsLnByaW50bG4oU3RyaW5nKCJHcmF5IFNjYWxlIFNlbnNvciBEYXRhOiAiKSArIFN0cmluZygiWyAoIikgKyBTdHJpbmcoU3RyaW5nKCJMOiAiKSArIFN0cmluZyhsX3NlbnNvcikpICsgU3RyaW5nKCIpICIpICsgU3RyaW5nKCIoIikgKyBTdHJpbmcoU3RyaW5nKCJSOiAiKSArIFN0cmluZyhyX3NlbnNvcikpICsgU3RyaW5nKCIpIF0iKSk7CiAgaWYgKGxfc2Vuc29yID49IEdSQVlfU0NBTEVfU0VOU09SX1RIUkVTSE9MRCkgewogICAgdHVybl9sZWZ0KCk7CgogIH0KICBpZiAocl9zZW5zb3IgPj0gR1JBWV9TQ0FMRV9TRU5TT1JfVEhSRVNIT0xEKSB7CiAgICB0dXJuX3JpZ2h0KCk7CgogIH0KCiAgIkIiOwoKICAiQSI7Cgp9</code>